<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Signarama Helper</title>
  <style>
    :root { font-family: ui-sans-serif,-apple-system,Segoe UI,Roboto,Arial; color:#eee; }
    html, body { height:100%; }
    body { margin:0; background:#1f1f1f; display:flex; flex-direction:column; min-width:280px; min-height:380px; }
    header { padding:12px; font-weight:800; border-bottom:1px solid #333; background:#121212; display:flex; align-items:center; justify-content:space-between; }
    .tabs { display:flex; gap:6px; padding:8px 10px; border-bottom:1px solid #333; background:#161616; flex-wrap:wrap; }
    .tab {
      appearance:none;
      border:1px solid #333;
      background:#202020;
      color:#ddd;
      border-radius:999px;
      padding:6px 10px;
      font-size:12px;
      font-weight:700;
      cursor:pointer;
    }
    .tab.active { background:#2a2a2a; border-color:#555; color:#fff; }
    .content { flex:1; overflow:auto; }
    .wrap { padding:12px; display:grid; gap:10px; }

    .btn {
      width:100%;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      background:#2a2a2a; color:#eee;
      border:1px solid #444; border-radius:12px;
      padding:12px 12px;
      cursor:pointer;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12),
                  5px 8px 10px rgba(0,0,0,0.45),
                  0 0px 1px rgba(0,0,0,0.6);
      font-size:13px;
      text-align:left;
    }
    .btn:hover { background:#242424; }
    .btn:active { transform: translateY(1px); }
    .btnText { font-weight:800; }

    .info {
      flex:0 0 auto;
      width:22px; height:22px;
      display:grid; place-items:center;
      border-radius:999px;
      border:1px solid #555;
      background:#121212;
      color:#cfcfcf;
      font-size:12px;
      line-height:1;
      user-select:none;
    }
    .info:hover { border-color:#777; color:#fff; }

    .card { border:1px solid #000; border-radius:12px; background:#161616; padding:12px; box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12), 5px 8px 10px rgba(0,0,0,0.45), 0 0px 1px rgba(0,0,0,0.6); }
    .cardHead { display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; }
    .cardTitle { font-weight:800; }
    .small { color:#aaa; font-size:12px; line-height:1.35; }
    .chk { display:flex; align-items:center; gap:8px; font-size:13px; color:#ddd; user-select:none; }
    .chk input { width:14px; height:14px; }
    #log { white-space:pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
           font-size:11px; color:#cfcfcf; padding:10px; border:1px solid #333; border-radius:10px; background:#101010; height:240px; overflow:auto; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
    .row { display:flex; gap:10px; align-items:flex-end; }
    .fld { display:flex; flex-direction:column; gap:4px; }
    .fld span { font-size:12px; color:#bcbcbc; }
    input, select {
      background:#101010; color:#eee;
      border:1px solid #333; border-radius:10px;
      padding:8px 10px; font-size:13px;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.08);
      outline:none;
    }
    input:focus, select:focus { border-color:#555; }
    .btn2 {
      background:#2a2a2a; color:#eee;
      border:1px solid #444; border-radius:12px;
      padding:10px 12px;
      cursor:pointer;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12),
                  5px 8px 10px rgba(0,0,0,0.45),
                  0 0px 1px rgba(0,0,0,0.6);
      font-size:13px; font-weight:800;
      white-space:nowrap;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .btn2:hover { background:#242424; }
    .btn2:active { transform: translateY(1px); }

    .hidden { display:none; }
  </style>
</head>
<body>
  <header>
    <div>Signarama Helper</div>
    <div style="font-size:12px; color:#aaa; font-weight:700;" id="status"></div>
  </header>

  <div class="tabs" role="tablist" aria-label="Signarama Helper Tabs">
    <button class="tab active" data-tab="tab-buttons" type="button">Buttons</button>
    <button class="tab" data-tab="tab-bleeds" type="button">Bleeds</button>
    <button class="tab" data-tab="tab-cutfiles" type="button">Cutfiles</button>
    <button class="tab" data-tab="tab-testing" type="button">Testing</button>
  </div>

  <div class="content">
    <!-- TAB: BUTTONS -->
    <section id="tab-buttons" class="wrap" role="tabpanel">
      <button class="btn" id="btnFitArtboard" type="button">
        <span class="btnText">Fit artboard to artwork</span>
        <span class="info" data-tip="Fits the active artboard to the document items bounding box (no selection required).">i</span>
      </button>

      <button class="btn" id="btnArtboardPerItem" type="button">
        <span class="btnText">Artboard per selection</span>
        <span class="info" data-tip="Creates a new artboard for each selected item and fits it to the item bounds.">i</span>
      </button>

      <button class="btn" id="btnCopyOutlineScaleA4" type="button">
        <span class="btnText">Copy → outline → scale to A4</span>
        <span class="info" data-tip="Duplicates selection, converts text to outlines, outlines strokes, then scales down to fit within 297×210mm (A4 landscape).">i</span>
      </button>
    </section>

    <!-- TAB: BLEEDS -->
    <section id="tab-bleeds" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Bleeds to Basics (Rect, Circle)</div>
          <span class="info" data-tip="All inputs are millimetres. Expands the current selection by Top/Right/Bottom/Left.">i</span>
        </div>

        <div class="grid2">
          <label class="fld">
            <span>Top (mm)</span>
            <input id="bleedTop" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Right (mm)</span>
            <input id="bleedRight" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Bottom (mm)</span>
            <input id="bleedBottom" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Left (mm)</span>
            <input id="bleedLeft" type="number" step="0.1" value="0">
          </label>
        </div>

        <div class="row" style="margin-top:10px;">
          <label class="fld" style="flex:1;">
            <span>Quick fill</span>
            <select id="bleedPreset">
              <option value="">—</option>
              <option value="acm">ACM (20mm each side)</option>
              <option value="print">Print (3mm each side)</option>
              <option value="none">None (0)</option>
            </select>
          </label>

          <button class="btn2" id="btnApplyBleed" type="button">
            <span>Apply bleed</span>
            <span class="info" data-tip="Expands selected items by the given amounts, handling asymmetric bleeds.">i</span>
          </button>
        </div>

        <div class="small" style="margin-top:8px;">
          Note: this expands artwork bounds; it does not change artboards.
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Bleeds to paths (Offset Path)</div>
          <span class="info" data-tip="Applies a true Offset Path bleed (mitre join, miter limit 180). Intended for paths/letters/shapes. All units mm.">i</span>
        </div>

        <div class="row">
          <label class="fld" style="flex:1;">
            <span>Offset amount (mm)</span>
            <input id="pathBleedAmount" type="number" step="0.1" value="0">
          </label>
        </div>

        <div class="row" style="margin-top:10px; align-items:center;">
          <label class="chk">
            <input id="pathBleedCutline" type="checkbox" checked>
            <span>Create cutline</span>
          </label>

          <button class="btn2" id="btnApplyPathBleed" type="button" style="margin-left:auto;">
            <span>Apply path bleed</span>
            <span class="info" data-tip="Moves the target to layer 'bleed' and offsets paths. If enabled, duplicates the original to layer 'cutline' with no fill and 'Cut Contour' spot stroke.">i</span>
          </button>
        </div>

        <div class="small" style="margin-top:8px;">
          Notes: This uses path offsetting; results depend on object type. Strokes/fills are preserved on the bleed result.
        </div>
      </div>

    </section>

    <!-- TAB: CUTFILES -->
    <section id="tab-cutfiles" class="wrap hidden" role="tabpanel">
      <button class="btn" id="btnAddPathText" type="button">
        <span class="btnText">Add file path label to artboards</span>
        <span class="info" data-tip="Adds a centered label near the top of each artboard showing the current file path. Width=60% of artboard, offset=5mm. Text scales to the field width.">i</span>
      </button>

      <button class="btn" id="btnOutlineAllText" type="button">
        <span class="btnText">Outline all text</span>
        <span class="info" data-tip="Converts all text frames in the document to outlines.">i</span>
      </button>

      <button class="btn" id="btnSetFillsStrokes" type="button">
        <span class="btnText">Set fills/strokes</span>
        <span class="info" data-tip="Sets all fills to none and all strokes to 1px black across the document.">i</span>
      </button>
    </section>

    <!-- TAB: TESTING -->
    <section id="tab-testing" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Console</div>
          <button class="tab" id="btnClearLog" type="button" style="border-radius:10px;">Clear</button>
        </div>
        <div id="log"></div>
      </div>
    </section>
  </div>

  <script src="js/CSInterface.js"></script>
  <script src="js/main.js"></script>
</body>
</html>


