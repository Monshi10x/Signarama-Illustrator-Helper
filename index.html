<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Signarama Helper</title>
  <style>
    :root { font-family: ui-sans-serif,-apple-system,Segoe UI,Roboto,Arial; color:#eee; }
    html, body { height:100%; }
    body { margin:0; background:#1f1f1f; display:flex; flex-direction:column; min-width:280px; min-height:380px; }
    header { padding:12px; font-weight:800; border-bottom:1px solid #333; background:#121212; display:flex; align-items:center; justify-content:space-between; }
    .tabs { display:flex; gap:6px; padding:8px 10px; border-bottom:1px solid #333; background:#161616; flex-wrap:wrap; }
    .tab {
      appearance:none;
      border:1px solid #333;
      background:#202020;
      color:#ddd;
      border-radius:999px;
      padding:6px 10px;
      font-size:12px;
      font-weight:700;
      cursor:pointer;
    }
    .tab.active { background:#2a2a2a; border-color:#555; color:#fff; }
    .content { flex:1; overflow:auto; }
    .wrap { padding:12px; display:grid; gap:10px; }

    .btn {
      width:100%;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      background:#2a2a2a; color:#eee;
      border:1px solid #444; border-radius:12px;
      padding:12px 12px;
      cursor:pointer;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12),
                  5px 8px 10px rgba(0,0,0,0.45),
                  0 0px 1px rgba(0,0,0,0.6);
      font-size:13px;
      text-align:left;
    }
    .btn:hover { background:#242424; }
    .btn:active { transform: translateY(1px); }
    .btnText { font-weight:800; }

    .info {
      flex:0 0 auto;
      width:22px; height:22px;
      display:grid; place-items:center;
      border-radius:999px;
      border:1px solid #555;
      background:#121212;
      color:#cfcfcf;
      font-size:12px;
      line-height:1;
      user-select:none;
    }
    .info:hover { border-color:#777; color:#fff; }

    .card { border:1px solid #000; border-radius:12px; background:#161616; padding:12px; box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12), 5px 8px 10px rgba(0,0,0,0.45), 0 0px 1px rgba(0,0,0,0.6); }
    .cardHead { display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; }
    .cardTitle { font-weight:800; }
    .small { color:#aaa; font-size:12px; line-height:1.35; }
    .chk { display:flex; align-items:center; gap:8px; font-size:13px; color:#ddd; user-select:none; }
    .chk input { width:14px; height:14px; }
    #log, .log { white-space:pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
                 font-size:11px; color:#cfcfcf; padding:10px; border:1px solid #333; border-radius:10px; background:#101010; height:240px; overflow:auto; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
    .grid3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }
    .dim-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }
    .dim-btn {
      display:grid; place-items:center;
      background:#2a2a2a; color:#eee;
      border:1px solid #444; border-radius:12px;
      padding:10px;
      cursor:pointer;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12),
                  5px 8px 10px rgba(0,0,0,0.45),
                  0 0px 1px rgba(0,0,0,0.6);
      height:70px;
    }
    .dim-btn:hover { background:#242424; }
    .dim-btn svg { width:50px; height:50px; }
    .dim-center {
      display:grid; place-items:center;
      color:#bbb;
      border:1px dashed #444;
      border-radius:12px;
      background:#202020;
      height:70px;
      font-size:12px;
    }
    .row { display:flex; gap:10px; align-items:flex-end; }
    .fld { display:flex; flex-direction:column; gap:4px; }
    .fld span { font-size:12px; color:#bcbcbc; }
    input, select {
      background:#101010; color:#eee;
      border:1px solid #333; border-radius:10px;
      padding:8px 10px; font-size:13px;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.08);
      outline:none;
    }
    input:focus, select:focus { border-color:#555; }
    .btn2 {
      background:#2a2a2a; color:#eee;
      border:1px solid #444; border-radius:12px;
      padding:10px 12px;
      cursor:pointer;
      box-shadow: inset 0px 1px 2px rgba(255,255,255,0.12),
                  5px 8px 10px rgba(0,0,0,0.45),
                  0 0px 1px rgba(0,0,0,0.6);
      font-size:13px; font-weight:800;
      white-space:nowrap;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .btn2:hover { background:#242424; }
    .btn2:active { transform: translateY(1px); }

    .hidden { display:none; }
  </style>
</head>
<body>
  <header>
    <div>Signarama Helper</div>
    <div style="font-size:12px; color:#aaa; font-weight:700;" id="status"></div>
  </header>

  <div class="tabs" role="tablist" aria-label="Signarama Helper Tabs">
    <button class="tab active" data-tab="tab-buttons" type="button">Artboards</button>
    <button class="tab" data-tab="tab-bleeds" type="button">Bleeds</button>
    <button class="tab" data-tab="tab-cutfiles" type="button">Cutfiles</button>
    <button class="tab" data-tab="tab-dimensions" type="button">Dimensions</button>
    <button class="tab" data-tab="tab-lightbox" type="button">Lightbox</button>
    <button class="tab" data-tab="tab-colours" type="button">Colours</button>
    <button class="tab" data-tab="tab-centerline" type="button">Centerline</button>
    <button class="tab" data-tab="tab-testing" type="button">Testing</button>
  </div>

  <div class="content">
    <!-- TAB: BUTTONS -->
    <section id="tab-buttons" class="wrap" role="tabpanel">
      <button class="btn" id="btnFitArtboard" type="button">
        <span class="btnText">Fit artboard to artwork</span>
        <span class="info" data-tip="Fits the active artboard to the document items bounding box (no selection required).">i</span>
      </button>

      <button class="btn" id="btnArtboardPerItem" type="button">
        <span class="btnText">Artboard per selection</span>
        <span class="info" data-tip="Creates a new artboard for each selected item and fits it to the item bounds.">i</span>
      </button>

      <button class="btn" id="btnCopyOutlineScaleA4" type="button">
        <span class="btnText">Scale Artwork for Proof (A4)</span>
        <span class="info" data-tip="Copy -> Outline -> Outline Stroke -> Scale">i</span>
      </button>
    </section>

    <!-- TAB: BLEEDS -->
    <section id="tab-bleeds" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Bleeds to Basics (Rect, Circle)</div>
          <span class="info" data-tip="All inputs are millimetres. Expands the current selection by Top/Right/Bottom/Left.">i</span>
        </div>

        <div class="grid2">
          <label class="fld">
            <span>Top (mm)</span>
            <input id="bleedTop" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Right (mm)</span>
            <input id="bleedRight" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Bottom (mm)</span>
            <input id="bleedBottom" type="number" step="0.1" value="0">
          </label>
          <label class="fld">
            <span>Left (mm)</span>
            <input id="bleedLeft" type="number" step="0.1" value="0">
          </label>
        </div>

        <div class="row" style="margin-top:10px;">
          <label class="fld" style="flex:1;">
            <span>Quick fill</span>
            <select id="bleedPreset">
              <option value="">—</option>
              <option value="acm">ACM (20mm each side)</option>
              <option value="print">Print (3mm each side)</option>
              <option value="none">None (0)</option>
            </select>
          </label>

          <button class="btn2" id="btnApplyBleed" type="button">
            <span>Apply bleed</span>
            <span class="info" data-tip="Expands selected items by the given amounts, handling asymmetric bleeds.">i</span>
          </button>
        </div>

        <div class="small" style="margin-top:8px;">
          Note: this expands artwork bounds; it does not change artboards.
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Bleeds to paths (Offset Path)</div>
          <span class="info" data-tip="Applies a true Offset Path bleed (mitre join, miter limit 180). Intended for paths/letters/shapes. All units mm.">i</span>
        </div>

        <div class="row">
          <label class="fld" style="flex:1;">
            <span>Offset amount (mm)</span>
            <input id="pathBleedAmount" type="number" step="0.1" value="0">
          </label>
        </div>

        <div class="row" style="margin-top:10px; align-items:center;">
          <label class="chk">
            <input id="pathBleedCutline" type="checkbox" checked>
            <span>Create cutline</span>
          </label>

          <button class="btn2" id="btnApplyPathBleed" type="button" style="margin-left:auto;">
            <span>Apply path bleed</span>
            <span class="info" data-tip="Moves the target to layer 'bleed' and offsets paths. If enabled, duplicates the original to layer 'cutline' with no fill and 'Cut Contour' spot stroke.">i</span>
          </button>
        </div>

        <div class="small" style="margin-top:8px;">
          Notes: This uses path offsetting; results depend on object type. Strokes/fills are preserved on the bleed result.
        </div>
      </div>

    </section>

    <!-- TAB: CUTFILES -->
    <section id="tab-cutfiles" class="wrap hidden" role="tabpanel">
      <button class="btn" id="btnAddPathText" type="button">
        <span class="btnText">Add file path label to artboards</span>
        <span class="info" data-tip="Adds a centered label near the top of each artboard showing the current file path. Width=60% of artboard, offset=5mm. Text scales to the field width.">i</span>
      </button>

      <button class="btn" id="btnOutlineAllText" type="button">
        <span class="btnText">Outline all text</span>
        <span class="info" data-tip="Converts all text frames in the document to outlines.">i</span>
      </button>

      <button class="btn" id="btnSetFillsStrokes" type="button">
        <span class="btnText">Set fills/strokes</span>
        <span class="info" data-tip="Sets all fills to none and all strokes to 1px black across the document.">i</span>
      </button>
    </section>

    <!-- TAB: DIMENSIONS -->
    <section id="tab-dimensions" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Quick Add</div>
          <span class="info" data-tip="Adds measurement dimensions to the current selection.">i</span>
        </div>
        <div class="dim-grid">
          <button id="btnTL" class="dim-btn" type="button" title="Top + Left">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="10" x2="50" y2="10" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
              <line x1="10" y1="20" x2="10" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnT" class="dim-btn" type="button" title="Top Only">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="5 0 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="10" x2="50" y2="10" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnRT" class="dim-btn" type="button" title="Right + Top">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="10 0 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="10" x2="50" y2="10" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
              <line x1="60" y1="20" x2="60" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnL" class="dim-btn" type="button" title="Left Only">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 5 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="10" y1="20" x2="10" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnCenterText" class="dim-btn" type="button" title="Center Text">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="5" y="5" width="14" height="14" rx="1" />
              <path d="M12 7v10M7 12h10" />
            </svg>
          </button>
          <button id="btnR" class="dim-btn" type="button" title="Right Only">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="10 5 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="60" y1="20" x2="60" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnBL" class="dim-btn" type="button" title="Bottom + Left">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 10 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="60" x2="50" y2="60" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
              <line x1="10" y1="20" x2="10" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnB" class="dim-btn" type="button" title="Bottom Only">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="5 10 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="60" x2="50" y2="60" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnRB" class="dim-btn" type="button" title="Right + Bottom">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="10 10 60 60">
              <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <rect x="20" y="20" width="30" height="30" stroke="white" stroke-width="4" fill="none"/>
              <line x1="20" y1="60" x2="50" y2="60" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
              <line x1="60" y1="20" x2="60" y2="50" stroke="white" stroke-width="3"
                    marker-start="url(#arrow)" marker-end="url(#arrow)"/>
            </svg>
          </button>
          <button id="btnLineMeasure" class="dim-btn" type="button" title="Measure Line/Path">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60">
              <defs>
                <marker id="arrowLine" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                  <path d="M 0 0 L 10 5 L 0 10 z" fill="white"/>
                </marker>
              </defs>
              <line x1="10" y1="45" x2="50" y2="15" stroke="white" stroke-width="3"
                    marker-start="url(#arrowLine)" marker-end="url(#arrowLine)"/>
              <circle cx="10" cy="45" r="2" fill="white"/>
              <circle cx="50" cy="15" r="2" fill="white"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Actions</div>
        </div>
        <div class="row">
          <button id="btnDimClear" class="btn2" type="button">Clear “Dimensions” Layer</button>
          <label class="fld" style="flex:1;">
            <span>Scale Appearance (%)</span>
            <input type="number" id="scaleAppearance" step="10" value="100">
          </label>
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Settings</div>
        </div>
        <div class="grid2">
          <label class="fld">
            <span>Offset from object (mm)</span>
            <input type="number" id="offsetMm" step="0.1" value="50">
          </label>
          <label class="fld">
            <span>Tick length (mm)</span>
            <input type="number" id="ticLenMm" step="0.1" value="50">
          </label>
          <label class="fld">
            <span>Text size (pt)</span>
            <input type="number" id="textPt" step="0.5" value="100">
          </label>
          <label class="fld">
            <span>Stroke width (pt)</span>
            <input type="number" id="strokePt" step="0.25" value="5">
          </label>
          <label class="fld">
            <span>Label decimals</span>
            <input type="number" id="decimals" step="1" value="1">
          </label>
          <label class="fld">
            <span>Label gap from line (mm)</span>
            <input type="number" id="labelGapMm" step="0.1" value="20">
          </label>
          <label class="chk" style="align-items:center; gap:8px; margin-top:6px;">
            <input type="checkbox" id="measureClippedContent">
            <span>Measure clipped content</span>
          </label>
          <label class="fld">
            <span>Arrowhead size (pt)</span>
            <input type="number" id="arrowheadSizePt" step="0.5" value="50">
          </label>
          <label class="chk" style="align-items:center; gap:8px; margin-top:6px;">
            <input type="checkbox" id="includeArrowhead" checked>
            <span>Include arrowhead</span>
          </label>
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Colours</div>
        </div>
        <div class="grid3">
          <label class="fld">Text colour
            <input type="color" id="textColor" value="#ff00ff">
          </label>
          <label class="fld">Line colour
            <input type="color" id="lineColor" value="#000000">
          </label>
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <div class="cardHead">
          <div class="cardTitle">Log</div>
        </div>
        <div id="dimensionsLog" class="log"></div>
      </div>
    </section>

    <!-- TAB: LIGHTBOX -->
    <section id="tab-lightbox" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Lightbox</div>
          <span class="info" data-tip="Creates a lightbox frame, supports, and an LED panel offset from the frame.">i</span>
        </div>
        <div class="grid2">
          <label class="fld">
            <span>Width (mm)</span>
            <input type="number" id="lightboxWidthMm" step="1" value="1000">
          </label>
          <label class="fld">
            <span>Height (mm)</span>
            <input type="number" id="lightboxHeightMm" step="1" value="500">
          </label>
          <label class="fld">
            <span>Depth (mm)</span>
            <input type="number" id="lightboxDepthMm" step="1" value="100">
          </label>
          <label class="fld">
            <span>Lightbox type</span>
            <select id="lightboxType">
              <option value="Acrylic">Acrylic</option>
              <option value="Flexface">Flexface</option>
            </select>
          </label>
          <label class="fld">
            <span>Number of supports</span>
            <input type="number" id="lightboxSupportCount" step="1" value="2">
          </label>
          <label class="fld">
            <span>LED panel offset (mm)</span>
            <input type="number" id="lightboxLedOffsetMm" step="1" value="4">
          </label>
        </div>
        <div class="row" style="margin-top:10px; align-items:center;">
          <label class="chk">
            <input id="lightboxAddMeasures" type="checkbox" checked>
            <span>Add measures</span>
          </label>
        </div>
        <div class="row" style="margin-top:10px;">
          <button id="btnCreateLightbox" class="btn2" type="button">Create lightbox</button>
          <button id="btnCreateLightboxWithLedPanel" class="btn2" type="button">Create lightbox + LED panel</button>
        </div>
      </div>

        <div class="card" style="margin-top:12px;">
          <div class="cardHead">
            <div class="cardTitle">LED Layout</div>
            <span class="info" data-tip="Draws LED modules based on the Lightbox width/height and depth, or the current selection bounds.">i</span>
          </div>
          <div class="row" style="margin-bottom:10px; align-items:flex-end; gap:12px;">
            <div style="border:1px solid #333; border-radius:10px; padding:10px; background:#101010; display:flex; align-items:center; gap:10px;">
              <div id="ledDepiction" style="width:140px;height:70px;display:grid;place-items:center;border:1px dashed #444;border-radius:8px;background:#151515;position:relative;">
                <div id="ledDepictionRect" style="width:90px;height:26px;border:1px solid #ddd;position:relative;">
                  <div id="ledDepictionLine" style="position:absolute;left:0;right:0;top:50%;height:1px;background:#ff3b3b;"></div>
                </div>
              </div>
              <div style="font-size:12px;color:#bcbcbc;">
                <div id="ledDepictionText">LED 66mm × 13mm</div>
                <div style="color:#888;">Width × Height</div>
              </div>
            </div>
          </div>
          <div class="grid2">
            <label class="fld">
              <span>Layout Width (mm)</span>
              <input type="number" id="ledLayoutWidthMm" step="1" value="1000">
            </label>
            <label class="fld">
              <span>Layout Height (mm)</span>
              <input type="number" id="ledLayoutHeightMm" step="1" value="500">
            </label>
            <label class="fld">
              <span>Max LEDs in Series</span>
              <input type="number" id="ledMaxInSeries" step="1" value="50">
            </label>
            <label class="chk" style="align-items:center; gap:8px; margin-top:6px;">
              <input type="checkbox" id="ledFlip">
              <span>Flip LED</span>
            </label>
            <label class="fld">
              <span>LED Watt</span>
              <input type="number" id="ledWatt" step="0.01" value="1.5">
            </label>
            <label class="fld">
            <span>LED Width (mm)</span>
            <input type="number" id="ledWidthMm" step="1" value="66">
          </label>
          <label class="fld">
            <span>LED Height (mm)</span>
            <input type="number" id="ledHeightMm" step="1" value="13">
          </label>
          <label class="fld">
            <span>Allowance Between Centers (W)</span>
            <input type="number" id="ledAllowanceWmm" step="1" value="0">
          </label>
          <label class="fld">
            <span>Allowance Between Centers (H)</span>
            <input type="number" id="ledAllowanceHmm" step="1" value="0">
          </label>
        </div>
        <div class="row" style="margin-top:10px;">
          <button id="btnDrawLEDs" class="btn2" type="button">Draw LED Layout</button>
        </div>
        <div class="small" style="margin-top:8px;">
          Note: uses Lightbox Width/Height/Depth if no selection is active.
        </div>
      </div>
    </section>

    <!-- TAB: COLOURS -->
    <section id="tab-colours" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Document Colours</div>
          <span class="info" data-tip="Lists unique vector colours. Change a picker to update items using the previous colour.">i</span>
        </div>
        <div id="coloursList" class="wrap" style="padding:0;"></div>
        <div class="row" style="margin-top:10px;">
          <button id="btnRefreshColours" class="btn2" type="button">Refresh Colours</button>
        </div>
        <div id="coloursCount" class="small" style="margin-top:8px;">Document colours: 0</div>
        <div id="colourModeBanner" style="display:none; margin-top:12px; padding:8px 10px; border-radius:8px; background:#b00020; color:#fff; font-size:12px; font-weight:600;">
          Current document colour mode is RGB
        </div>
      </div>
    </section>

    <!-- TAB: CENTERLINE -->
    <section id="tab-centerline" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Centerline</div>
          <span class="info" data-tip="Draws centerline paths inside selected closed shapes. Best with expanded outlines.">i</span>
        </div>

        <div class="grid2">
          <label class="fld">
            <span>Sample step (mm)</span>
            <input id="centerlineStepMm" type="number" step="0.1" min="0.2" value="1.5">
          </label>
          <label class="fld">
            <span>Link tolerance (mm)</span>
            <input id="centerlineLinkMm" type="number" step="0.1" min="0.2" value="3">
          </label>
          <label class="fld">
            <span>Smooth passes</span>
            <input id="centerlineSmoothPasses" type="number" step="1" min="0" max="10" value="2">
          </label>
          <label class="fld">
            <span>Stroke width (pt)</span>
            <input id="centerlineStrokePt" type="number" step="0.1" min="0.1" value="0.75">
          </label>
        </div>

        <div class="row" style="margin-top:10px; align-items:center; gap:14px; flex-wrap:wrap;">
          <label class="chk" style="margin:0;">
            <input id="centerlineUseSelectionOnly" type="checkbox" checked>
            <span>Use selection only</span>
          </label>
          <label class="chk" style="margin:0;">
            <input id="centerlineDrawNormalized" type="checkbox" checked>
            <span>Draw normalized path below</span>
          </label>
          <label class="chk" style="margin:0;">
            <input id="centerlineDebugVisuals" type="checkbox">
            <span>Debug visuals</span>
          </label>
        </div>

        <div class="row" style="margin-top:10px;">
          <label class="fld" style="flex:1;">
            <span>Debug offset down (mm)</span>
            <input id="centerlineDebugOffsetMm" type="number" step="1" min="5" value="30">
          </label>
        </div>

        <div class="row" style="margin-top:10px;">
          <button id="btnDrawCenterline" class="btn2" type="button">Draw Centerline</button>
        </div>

        <div class="small" style="margin-top:8px;">
          Creates open paths on a new <b>Centerline</b> layer and optional debug geometry on <b>Centerline Debug</b>.
        </div>
      </div>
    </section>

    <!-- TAB: TESTING -->
    <section id="tab-testing" class="wrap hidden" role="tabpanel">
      <div class="card">
        <div class="cardHead">
          <div class="cardTitle">Console</div>
          <button class="tab" id="btnClearLog" type="button" style="border-radius:10px;">Clear</button>
        </div>
        <div id="log"></div>
      </div>
    </section>
  </div>

  <script src="js/CSInterface.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
